# –ü—Ä–æ–µ–∫—Ç: LQR-—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –º–∞—è—Ç–Ω–∏–∫–∞ –Ω–∞ –ú–∞—Ä—Å–µ

## üåå –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —Å–∏–º—É–ª—è—Ü–∏—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–¥–Ω–æ–∑–≤–µ–Ω–Ω–æ–≥–æ –º–∞—è—Ç–Ω–∏–∫–∞ **–≤ –º–∞—Ä—Å–∏–∞–Ω—Å–∫–æ–π –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏**, –∏—Å–ø–æ–ª—å–∑—É—è –ª–∏–Ω–µ–π–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω—ã–π —Ä–µ–≥—É–ª—è—Ç–æ—Ä (LQR). –î–∞, —ç—Ç–æ —Ç–æ—Ç —Å–ª—É—á–∞–π, –∫–æ–≥–¥–∞ –º–∞—è—Ç–Ω–∏–∫ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç–æ–∏—Ç, –∞ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º –ø–∞—Ñ–æ—Å–æ–º.

## üåü –¶–µ–ª—å

–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–∞—è—Ç–Ω–∏–∫ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–∏ $\theta \approx \pi$ —á–µ—Ä–µ–∑ LQR-—Ä–µ–≥—É–ª—è—Ç–æ—Ä. –î–æ—Å—Ç–∏—á—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—è –¥–∞–∂–µ –ø—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–Ω–æ–π –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ (–Ω–∞ –ú–∞—Ä—Å–µ).

## ‚àû –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞

–ü–æ–ª–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ:

$m l^2 \ddot{\theta} + m g l \sin(\theta) = \tau$

–ü–æ—Å–ª–µ –ª–∏–Ω–µ–∞—Ä–∏–∑–∞—Ü–∏–∏ –≤–æ–∫—Ä—É–≥ $\theta = \pi$ ($\sin(\theta) \approx -\delta$):

$\ddot{\delta} = \frac{g}{l} \delta + \frac{\tau}{m l^2}$

–ú–∞—Ç—Ä–∏—Ü—ã:

$A = \begin{bmatrix} 0 & 1 \\ \frac{g}{l} & 0 \end{bmatrix}, \quad B = \begin{bmatrix} 0 \\ \frac{1}{m l^2} \end{bmatrix}$

## üìä LQR

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–∞—á–µ—Å—Ç–≤–∞:

$J = \int_0^\infty (x^T Q x + u^T R u) \, dt$

–ú–∞—Ç—Ä–∏—Ü–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è:

$K = R^{-1} B^T P$

–≥–¥–µ \$P\$ —Ä–µ—à–∞–µ—Ç —Ä–∏–∫–∫–∞—Ç–∏-—É—Ä–∞–≤–Ω–µ–Ω–∏–µ.

## üéÆ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

* PyBullet —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –¥–∏–Ω–∞–º–∏–∫—É.
* URDF-—Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—è—Ç–Ω–∏–∫.
* –°—Ç–∞—Ä—Ç: $\theta = \pi + 0.1$.
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `TORQUE_CONTROL`.
* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: matplotlib.

## üöÄ –§–∞–π–ª—ã

* `main.py` ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª.
* `two-link.urdf` ‚Äî –ø–µ–Ω–¥—é–ª—å –Ω–∞ –ú–∞—Ä—Å–µ.

## üîß –ó–∞–ø—É—Å–∫

```bash
pip install pybullet numpy matplotlib scipy
python main.py
```

## ‚ö° –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

* –£–≥–æ–ª –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ $\pi$.
* –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞—Ç—É—Ö–∞–µ—Ç –¥–æ 0.
* –ú–æ–º–µ–Ω—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –Ω—É–ª–µ–≤–æ–π.

---
